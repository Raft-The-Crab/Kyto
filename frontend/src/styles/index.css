@import 'tailwindcss';
@import '@xyflow/react/dist/style.css';

@theme {
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);

  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);

  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);

  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  --radius: 0px; /* Neo-Brutalism: Hard corners */

  --shadow-neo: var(--shadow-neo);
  --shadow-neo-lg: var(--shadow-neo-lg);
  --shadow-neo-sm: var(--shadow-neo-sm);
}

/* Hard Neo-Brutalism Implementation */
@utility shadow-neo {
  box-shadow: 4px 4px 0px 0px rgba(0, 0, 0, 1);
}
@utility shadow-neo-lg {
  box-shadow: 8px 8px 0px 0px rgba(0, 0, 0, 1);
}
@utility shadow-neo-sm {
  box-shadow: 2px 2px 0px 0px rgba(0, 0, 0, 1);
}

@layer base {
  :root {
    --background: hsl(45 100% 96%); /* Off-white / Cream */
    --foreground: hsl(0 0% 0%);
    --card: hsl(45 100% 96%);
    --card-foreground: hsl(0 0% 0%);
    --popover: hsl(45 100% 96%);
    --popover-foreground: hsl(0 0% 0%);
    --primary: hsl(246 100% 64%);
    --primary-foreground: hsl(0 0% 100%);
    --secondary: hsl(150 100% 45%); /* High contrast green */
    --secondary-foreground: hsl(0 0% 0%);
    --muted: hsl(0 0% 90%);
    --muted-foreground: hsl(0 0% 40%);
    --accent: hsl(300 100% 60%); /* Vibrant pink */
    --accent-foreground: hsl(0 0% 100%);
    --destructive: hsl(0 100% 50%);
    --destructive-foreground: hsl(0 0% 100%);
    --border: hsl(0 0% 0%); /* Hard Black Borders */
    --input: hsl(0 0% 0%);
    --ring: hsl(0 0% 0%);
  }

  .dark {
    --background: hsl(0 0% 5%);
    --foreground: hsl(45 100% 96%);
    --card: hsl(0 0% 8%);
    --card-foreground: hsl(45 100% 96%);
    --popover: hsl(0 0% 8%);
    --popover-foreground: hsl(45 100% 96%);

    --primary: hsl(246 100% 70%);
    --secondary: hsl(150 100% 45%);
    --accent: hsl(300 100% 65%);
    --border: hsl(45 100% 96%); /* Hard White Borders */

    /* Dark mode shadow inverse */
    --shadow-neo: 4px 4px 0px 0px rgba(45, 255, 96, 0.4);
  }
}

body {
  @apply bg-background text-foreground font-mono transition-colors duration-300 antialiased;
}

/* Global Industrial Overrides */
* {
  @apply border-foreground;
}

button,
input,
select,
textarea,
div.card {
  @apply border-2 border-slate-900 shadow-neo transition-all active:translate-x-[2px] active:translate-y-[2px] active:shadow-none;
}

/* React Flow Overhaul */
.react-flow__background {
  @apply bg-[radial-gradient(#000_1px,transparent_1px)] bg-[size:24px_24px] opacity-10;
}

.react-flow__node {
  @apply rounded-none border-4 border-slate-900 shadow-neo bg-white dark:bg-slate-900 !important;
}

.react-flow__node.selected {
  @apply border-indigo-600 ring-4 ring-indigo-600/20 !important;
}

.react-flow__handle {
  @apply w-4 h-4 bg-white border-3 border-slate-900 rounded-none shadow-neo-sm;
}

.react-flow__edge-path {
  @apply stroke-slate-900 stroke-[4px];
}

.react-flow__controls {
  @apply border-4 border-slate-900 shadow-neo rounded-none !important;
}

.react-flow__controls-button {
  @apply border-r-4 border-slate-900 last:border-r-0 !important;
}
